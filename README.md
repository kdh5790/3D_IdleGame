# 3D_IdleGame

개인과제로 제작한 3D 방치형 게임입니다.

 ## 게임 시작
![녹화_2025_03_26_22_03_40_507](https://github.com/user-attachments/assets/bc7ded61-5b0c-4255-ad3e-30c721dc5528)


이번 개인과제로 제작한 3D 방치형 게임입니다.


플레이어는 자동으로 가장 가까운 적을 찾아 이동하며 적을 처치하면 다시 가장 가까운 타겟을 찾도록 하였습니다.


플레이어와 적은 NavMeshAgent를 사용하여 서로에게 이동하며


공격거리에 들어왔다면 공격 및 공격 애니메이션을 재생하도록 하였습니다.


플레이어가 적에게 데미지를 입힐 시 Text 오브젝트를 생성하여 


데미지를 표시하도록 하였습니다.


데미지 텍스트는 코루틴을 사용해 위로 지속적으로 이동하며


일정시간 이 후 파괴되도록 하였습니다.


던전은 절차적 생성 방식을 사용하여 게임시작/스테이지 변경 시 새로운 구조를 가지도록 구현했습니다.


NavMeshSurface 컴포넌트를 사용하여 런타임 중 맵이 변경 된다면 다시 베이크 할 수 있도록 하였습니다.


## UI / 인벤토리
![녹화_2025_03_26_22_04_57_687](https://github.com/user-attachments/assets/3abc38a6-1000-4527-8b87-27c28275c667)



메인 UI에 표시되는 버튼들은 MainUIButtons를 통해 열리며 


UIManager에서 관리합니다.


팝업 UI를 열게 되면 UIManager의 열려있는 UI들을 보관하는 스택에 넣어주게 됩니다.


스택의 선입후출 특성을 이용해 ESC 키를 입력할 때


가장 나중에 열린 UI부터 닫히도록 하였습니다.


###


인벤토리UI 클래스는 시작 시 자식 오브젝트인 인벤토리 슬롯들을 리스트에 가져오도록 해주었습니다.


슬롯들은 첫번째 부터 순서대로 리스트에 들어가며 새로운 아이템을 획득하면


슬롯들을 탐색하여 비어있는 슬롯 중 가장 앞에있는 슬롯에 아이템을 넣어주도록 하였습니다.


획득할 아이템이 배치되어 있는 슬롯이 있다면 아이템의 수량만 증가시켜주도록 하였습니다.


아이템 슬롯은 IPointerClickHandler 인터페이스를 사용하여


슬롯을 클릭 할 시 OnPointerClick에 등록해둔 함수를 통해


아이템의 대한 설명을 아래에 띄워주도록 하였습니다.


## 장비창
![녹화_2025_03_26_22_05_48_640](https://github.com/user-attachments/assets/b22736bc-267f-4fcd-96f3-df19ff2fe91b)


장비창의 슬롯은 인벤토리 슬롯과 거의 동일한 방식으로 작동하며


IsEquip 변수를 통해 현재 슬롯의 있는 아이템이 장착중인지 아닌지를 확인합니다.


IsEquip 변수의 값에 따라 아래의 장착/해제 버튼의 텍스트 및 실행할 함수가 변경되도록 하였습니다.


장착 시 현재 장착중인 장비를 보여주는 위의 슬롯에 아이콘을 넣어주게 되고


장비의 SO 데이터에 설정된 보너스 수치들을 플레이어에게 적용시켜줍니다.


현재 장착중인 장비가 있을 때 다른 장비를 장착하려는 경우


해당 타입 enum을 가지고 있는 장비들을 모두 해제 처리 후


선택한 장비를 장착 할 수 있도록 하여


중복 장착이 불가능하도록 해주었습니다.


## 스탯창
![녹화_2025_03_26_22_08_25_2](https://github.com/user-attachments/assets/33b3bde6-5918-4f19-a888-6841c976ed9d)


스탯창에서는 공격력 및 최대체력을 업그레이드 시킬 수 있도록 하였습니다.


업그레이드 버튼 클릭 시 설정해둔 수치만큼 공격력/최대체력이 증가하며


소모되는 골드량도 증가합니다.


게임 내에서 큰 숫자를 보기 쉽게 표현하기 위해 BigInteger 값을 포맷팅하는 기능을 구현했습니다. 


Utility클래스의 FormatBigNumber() 함수를 사용하여 숫자를 K(천), M(백만), B(십억) 등의 단위로 축약하여 표시하고, 


소수점 한 자리까지 표현하여 가독성을 높였습니다. (예: 2500 -> 2.5K)


## 스테이지 변경
![녹화_2025_03_26_22_08_42_62](https://github.com/user-attachments/assets/01716b0c-1ab0-4ac7-93e5-fee0638aa8f1)


스테이지 변경 시 맵의 구조를 랜덤하게 다시 변경하며


Resources 폴더에 넣어둔 스테이지 별 몬스터에 따라 몬스터를 다시 배치하도록 하였습니다.


NavMeshSurface 컴포넌트를 사용하여 맵이 변경 된 후 다시 베이크 할 수 있도록 하였습니다.

